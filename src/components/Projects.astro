---
import Django from "../icons/Django.astro";
import React from "../icons/React.astro";
import Html from "../icons/Html.astro";
import Css from "../icons/Css.astro";
import Javascript from "../icons/Javascript.astro";
import Php from "../icons/PHP.astro";
import Mysql from "../icons/MySQL.astro";
import WordPress from "../icons/Wordpress.astro";
import PostGreSQL from "../icons/Postgres.astro";
import AstroIcon from "../icons/AstroIcon.astro";
import TailwindCss from "../icons/TailwindCss.astro";
import TypeScript from "../icons/TypeScript.astro";
import Docker from "../icons/docker.astro";
import srcImage from "../assets/ifcet.webp";
import srcImage2 from "../assets/ifcet-aula.webp";
import srcImage3 from "../assets/ifcet-web.webp";
import srcImage4 from "../assets/ifcet-web2.webp";
import srcImage5 from "../assets/serfer_project.webp";
import { Image } from "astro:assets";
import projects2 from "../data/projects.json";

const PROJECTS = [
  {
    title: "IFCET - Sistema de Gestión de Estudiantes",
    description:
      "Proyecto para la gestión de estudiantes de la empresa IFCET. Módulos de Registros, Reportes, Usuarios, etc.",
    link: "#",
    image: srcImage,
    github: "",
    tags: ["React", "Django", "PostGreSQL"],
  },
  {
    title: "IFCET - Sitio Web",
    description:
      "Sitio web de la empresa IFCET. Aumentó las ventas en un 20% en su totalidad.",
    link: "#",
    image: srcImage2,
    github: "",
    tags: ["HTML", "CSS", "JavaScript", "WordPress"],
  },
  {
    title: "IFCET - Aula Virtual",
    description: "Aula Virtual para los estudiantes de IFCET.",
    link: "#",
    image: srcImage3,
    github: "",
    tags: ["HTML", "CSS", "JavaScript", "PHP", "MySQL"],
  },
  {
    title: "IFCET - Sitio web",
    description:
      "Migración del sitio web de IFCET nuevas tecnologías con Astro, React y Django como backend.",
    link: "https://ifcet.com.pe/",
    image: srcImage4,
    github: "",
    tags: [
      "React",
      "Astro",
      "Tailwind CSS",
      "TypeScript",
      "Django",
      "PostGreSQL",
    ],
  },
  {
    title:
      "Serfer & Asociados - Sistema personalizado para Control y Venta de Lotes e Imobiliaria",
    description:
      "Sistema para Control y Venta de Lotes e Imobiliaria personalizado para la empresa Serfer & Asociados.",
    link: "",
    image: srcImage5,
    github: "",
    tags: [
      "React",
      "Tailwind CSS",
      "TypeScript",
      "Django",
      "PostGreSQL",
      "Docker",
    ],
  },
];

const ICONS = {
  Django,
  React,
  HTML: Html,
  CSS: Css,
  JavaScript: Javascript,
  PHP: Php,
  MySQL: Mysql,
  WordPress: WordPress,
  PostGreSQL: PostGreSQL,
  Astro: AstroIcon,
  TailwindCss: TailwindCss,
  TypeScript: TypeScript,
  Docker: Docker,
};
---

{
  PROJECTS.map((project, index) => (
    <article
      class="flex-shrink-0 md:w-[600px] lg:w-[900px] group"
      data-index={index}
    >
      <div class="bg-gradient-to-br from-[#1a1a1a] to-[#0a0a0a] rounded-2xl overflow-hidden border border-gray-800 hover:border-gray-600 transition-all duration-500 shadow-2xl min-h-[350px] flex mb-16">
        <div class="relative overflow-hidden h-[300px] md:h-[400px]">
          <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent z-10 opacity-60" />
          <Image
            src={project.image}
            alt={project.title}
            class="w-full h-full object-cover object-top transform group-hover:scale-110 transition-transform duration-700 ease-out"
          />
          <div class="absolute top-4 right-4 z-20">
            <span class="bg-white/10 backdrop-blur-md px-4 py-2 rounded-full text-white text-sm font-semibold border border-white/20">
              {String(index + 1).padStart(2, "0")}
            </span>
          </div>
        </div>

        <div class="content-container p-6 md:p-8 flex-1 flex flex-col justify-between">
          <div>
            <h3 class="text-white text-xl md:text-2xl font-bold mb-3 leading-tight group-hover:text-blue-400 transition-colors duration-300">
              {project.title}
            </h3>

            <p class="text-gray-300 text-sm md:text-base mb-6 leading-relaxed">
              {project.description}
            </p>

            <div class="flex flex-wrap gap-2">
              {project.tags.map((tag) => {
                const Icon = ICONS[tag as keyof typeof ICONS];
                return (
                  <span class="tech-tag text-xs md:text-sm px-3 py-2 bg-white/5 backdrop-blur-sm rounded-lg flex items-center gap-2 border border-white/10 hover:bg-white/10 hover:border-white/20 hover:scale-105 transition-all duration-300 cursor-pointer">
                    {Icon ? <Icon class="size-5 md:size-6" /> : null}
                    <span class="text-gray-200">{tag}</span>
                  </span>
                );
              })}
            </div>
          </div>

          {project.link && project.link !== "#" && (
            <div class="mt-6">
              <a
                href={project.link}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-blue-500/50"
              >
                Ver Proyecto →
              </a>
            </div>
          )}
        </div>
      </div>
    </article>
  ))
}
